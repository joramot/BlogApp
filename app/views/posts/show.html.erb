<div class="btn-container">
    <%= link_to "Back to Posts", user_posts_path, class:'back' %>
</div>
<div class="show-post">
    <div class="post-header">
        <h2><%= @post.title %> by <%= @user.name %></h2>
        <p>Comments: <%= @post.comments_counter %>,&nbsp; Likes: <%= @post.likes_counter %></p>
    </div>
    <div>
        <p class="post-content"><%= @post.text %></p>
    </div>
</div>
<% if @post.comments.length > 0 %>
<div class="comments">
    <% @post.comments.each do |comment| %>
    <div>
        <p><%= comment.user.name %>: <%= comment.text %></p>
    </div>
    <% end %>
</div>
<% end %>
<div class="btn-container">
    <%= form_with(model: @like, url: user_post_likes_path(user_id: @post.author, post_id: @post.id) ) do |f| %>
    <%= f.submit "Add Like" ,class: 'btn btn-primary ms-2'%>
    <% end %>
    <%= link_to "Comment", new_user_post_comment_path(user_id: @post.author, post_id: @post.id), class:'btn btn-success ms-2' %>
    <% if can?(:destroy, @post) %>
    <%= button_to 'Delete Post', user_post_path(@user, @post), method: :delete, data: { confirm: "Are you sure you want to delete this post?"}, class: 'btn btn-danger' %>
  <% end %>
</div>
